# 巡检系统小程序前端

基于微信小程序开发的巡检系统前端，提供巡检记录、事件管理和多媒体内容采集等功能。

## 功能特点

### 巡检管理

- 巡检记录的创建和查看
- 实时显示巡检状态和进度
- 支持地理位置采集
- 巡检列表和详情展示

### 事件记录

- 现场问题记录
- 语音录制和照片拍摄
- 语音转文字（可选）
- 事件时间线展示

### 用户体验

- 离线工作支持
- 数据自动同步
- 实时状态更新
- 友好的错误提示

### 系统特性

- 组件化开发
- 统一的状态管理
- 优雅的错误处理
- 完整的加载状态

## 页面说明

### 首页 `/pages/index/index`

- 用户信息展示
- 最近巡检列表
- 快速创建入口

### 巡检创建 `/pages/inspection/create`

- 基本信息填写
- 位置选择/采集
- 照片上传
- 表单验证

### 巡检列表 `/pages/more/more`

- 分页加载
- 下拉刷新
- 状态筛选
- 搜索功能

### 事件管理 `/pages/event/index`

- 事件列表展示
- 新事件创建
- 多媒体内容展示
- 状态更新

## 项目结构

```
inspection-frontend/
├── components/          # 公共组件
│   ├── loading/        # 加载组件
│   └── ...
├── images/             # 图片资源
├── pages/              # 页面文件
│   ├── index/         # 首页
│   ├── inspection/    # 巡检相关页面
│   ├── event/         # 事件相关页面
│   └── more/          # 更多页面
├── services/          # 服务层
│   └── api.js        # API 接口封装
├── utils/            # 工具函数
│   ├── request.js   # 网络请求
│   ├── auth.js      # 认证相关
│   └── util.js      # 通用工具
├── app.js           # 应用入口
├── app.json         # 应用配置
└── project.config.json  # 项目配置
```

## 开发环境

1. 安装开发工具

- 下载并安装[微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)

2. 克隆项目

```bash
git clone [项目地址]
cd inspection-frontend
```

3. 导入项目

- 打开微信开发者工具
- 选择"导入项目"
- 选择项目目录
- 填写小程序 AppID

## 开发指南

### 组件开发规范

- 组件放置在 `components` 目录
- 每个组件包含四个文件（.js, .json, .wxml, .wxss）
- 组件命名使用小写字母，多个单词用 `-` 连接

### 页面开发规范

- 页面放置在 `pages` 目录
- 相关页面放在同一子目录
- 页面命名使用小写字母

### API 调用规范

- 所有 API 调用通过 `services/api.js` 统一管理
- 使用 async/await 处理异步请求
- 统一的错误处理

### 样式规范

- 使用 WXSS 预处理器
- 遵循 BEM 命名规范
- 优先使用 flex 布局

## 部署说明

1. 开发版本

- 使用微信开发者工具上传代码
- 在小程序后台设置服务器域名

2. 体验版本

- 在开发者工具中上传代码
- 在小程序后台选择体验版本
- 通过体验码进行测试

3. 正式版本

- 提交审核
- 审核通过后发布

## 技术栈

- 微信小程序原生框架
- ES6+
- Promise & Async/Await
- Flex 布局

## 依赖服务

- 后端 API 服务
- 微信位置服务
- 语音识别服务（可选）
- 文件存储服务

## 注意事项

1. 开发环境

- 确保微信开发者工具为最新版本
- 开启"增强编译"
- 开启"ES6 转 ES5"

2. 调试说明

- 使用 Console 面板查看日志
- 使用 Network 面板调试请求
- 使用 Storage 面板查看存储

3. 发布注意

- 检查 API 域名配置
- 检查隐私协议
- 测试离线功能

## 贡献指南

1. Fork 项目
2. 创建特性分支
3. 提交代码
4. 创建 Pull Request

## 许可证

[MIT License](LICENSE)
